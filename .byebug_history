c
image
part.images
part.images.
part.images.attached?
part.attachments
part.attachments?
part.image
part
c
@parts.count
@parts
c
order_item_formc
order_item_form
c
payment
c
payment
c
@order
order
c
@order.total_amount
@order.order_number
@order.name
@order
c
email
order
c
n
 puts "Params: #{params.inspect}"
c
@order.save!
c
 @order
 @order.save!
@order.errors.empty?
c
@order.save!
c
@order.save!
c
@order.save!
c
@order.order_items.build(part: part, quantity: item_params["quantity"].to_i)
c
@order.order_items.build(part: part, quantity: item_params["quantity"].to_i)
c
n
@order.order_items.build(part: part, quantity: item_params["quantity"].to_i)
c
@order.save!
c
 @order.save!
c
 @order.save!
c
Order.new
c
Order.new
@order.order_items.create!(part: part, quantity: item_params["quantity"].to_i)
c
@order.order_items
@order.save!
 @order.total_parts
c
@order.save!
 @order
c
item_params["quantity"].to_i
part.price
@order.total_amount
@order.total_order_amount
n
c
OrderItem.new
item_params["quantity"]
n
part = Part.find(item_params["part_id"])
c
params[:order][:order_items_attributes].methods
params[:order][:order_items_attributes]
params[:order][:order_items_attributes].class
params[:order][:order_items_attributes].all
params[:order][:order_items_attributes].first
params[:order][:order_items_attributes]
params[:order][:order_items_attributes].count
params[:order][:order_items_attributes]
params[:order_items_attributes]
@order.order_items
params
@order.order_items
c
n
@order.order_items.each
c
part_id
c
@order.order_items
c
@order.order_items_attributes
c
@order.order_items_attributes
@order
c
params
c
params
c
params
c
@parts.count.times { @order.order_items.build }c
@parts.count.times { @order.order_items.build }
@parts.count
 @parts = Part.where(id: session[:cart]&.uniq)
 @parts = Part.where(id: session[:cart]&.uniq
c
params
c
OrderItem.last
Order.last
n
@order = Order.new(order_params)
n
params
c
params
c
current_user
c
current_user.is_admin?
c
current_user
c
current_admin_user
current_admin_user?
current_user.present?
current_user
c
params
current_user
exit
params
exit
params
c
params[:part_id]
params
Order.new(order_params)
@orderOrder.new(order_params)
@order
@order.order_items.sum
@order.order_items.sum(&:quantity)
@order
c
@parts
c
@parts
c
@order.order_items.sum(&:quantity)
params[:part_id]
params
order.order_items
order.parts
order
part_ids
c
@parts.find { |p| part_id }
@parts.find { |p| p.id == order_item_form.object.part_id }
@parts
c
session[:cart]
c
 session.delete(:cart)
 session[:cart] = nil
session.delete(:cart)
session[:cart] = []
session[:cart]
session[:cart].include?(part_id)
!session[:cart].include?(part_id)
part_id.present?
params[:id].present?
params[:id].present? && !session[:cart].include?(part_id)
part_id
c
params[:id]
params
c
params[:part_id]
part_id = params[:part_id].to_i
session[:cart]
session[:cart].include?(part_id)
c
session[:cart]
session[:cart].clear
session.clear
session.delete[:cart]session.clear
session.delete[:cart]
session[:cart]
c
session[:cart]
session[:cart] = nil
session[:cart]
session[:cart].nil
session[:cart].destroy
unless session[:cart].include?(part_id) puts "yes" end
unless session[:cart].include?(part_id)
session[:cart].include?(part_id)
session[:cart].match? part_id
session[:cart].blank?
session[:cart]
c
params[:part_id]
params[:part_ids]
params
c
session[:cart].uniq
session[:cart]
@parts
n
Part.where(id: session[:cart]&.uniq)
Part.where(id: session[:cart]&.uniq)Part.where(id: session[:cart]&.uniq)
Part.where(id: session[:cart]&.uniq)
c
